log_format standard escape=json '{"T":"$fmt_localtime","t":"$request_time","tr":"$upstream_response_time","s":"$status","r":"$remote_addr","m":"$request_method","e":"$scheme","h":"$host","u":"$request_uri","R":"$http_x_forwarded_for","L":"$body_bytes_sent","G":"$gzip_ratio","a":"$http_user_agent","f":"$http_referer"}';
log_format proxy    escape=json '{"T":"$fmt_localtime","t":"$request_time","tr":"$upstream_response_time","s":"$status","r":"$remote_addr","m":"$request_method","e":"$scheme","h":"$host","u":"$request_uri","R":"$http_x_forwarded_for","L":"$body_bytes_sent","G":"$gzip_ratio","a":"$http_user_agent","f":"$http_referer","U":"$upstream_status","C":"$upstream_cache_status","S":"$server_name"}';
log_format stream   escape=json '{"T":"$fmt_localtime","ts":"$session_time","tc":"$upstream_connect_time","s":"$status","r":"$remote_addr","P":"$protocol","p":"$remote_port","bs":"$bytes_sent","br":"$bytes_received","ua":"$upstream_addr","ubs":"$upstream_bytes_sent","ubr":"$upstream_bytes_received","ssl_p":"$ssl_protocol","ssl_c":"$ssl_cipher"}';

access_log /var/log/nginx/fallback_access.log proxy;
access_log /var/log/nginx/fallback_stream_access.log stream;

## Log formats:
#| JSON key | standard                  | proxy                     | stream                     |
#| -------- | ------------------------- | ------------------------- | -------------------------- |
#| `T`      | `$fmt_localtime`          | `$fmt_localtime`          | `$fmt_localtime`           |
#| `t`      | `$request_time`           | `$request_time`           | —                          |
#| `tr`     | `$upstream_response_time` | `$upstream_response_time` | —                          |
#| `ts`     | —                         | —                         | `$session_time`            |
#| `tc`     | —                         | —                         | `$upstream_connect_time`   |
#| `s`      | `$status`                 | `$status`                 | `$status`                  |
#| `r`      | `$remote_addr`            | `$remote_addr`            | `$remote_addr`             |
#| `m`      | `$request_method`         | `$request_method`         | —                          |
#| `e`      | `$scheme`                 | `$scheme`                 | —                          |
#| `h`      | `$host`                   | `$host`                   | —                          |
#| `u`      | `$request_uri`            | `$request_uri`            | —                          |
#| `R`      | `$http_x_forwarded_for`   | `$http_x_forwarded_for`   | —                          |
#| `L`      | `$body_bytes_sent`        | `$body_bytes_sent`        | —                          |
#| `G`      | `$gzip_ratio`             | `$gzip_ratio`             | —                          |
#| `a`      | `$http_user_agent`        | `$http_user_agent`        | —                          |
#| `f`      | `$http_referer`           | `$http_referer`           | —                          |
#| `U`      | —                         | `$upstream_status`        | —                          |
#| `C`      | —                         | `$upstream_cache_status`  | —                          |
#| `S`      | —                         | `$server_name`            | —                          |
#| `P`      | —                         | —                         | `$protocol`                |
#| `p`      | —                         | —                         | `$remote_port`             |
#| `bs`     | —                         | —                         | `$bytes_sent`              |
#| `br`     | —                         | —                         | `$bytes_received`          |
#| `ua`     | —                         | —                         | `$upstream_addr`           |
#| `ubs`    | —                         | —                         | `$upstream_bytes_sent`     |
#| `ubr`    | —                         | —                         | `$upstream_bytes_received` |
#| `ssl_p`  | —                         | —                         | `$ssl_protocol`            |
#| `ssl_c`  | —                         | —                         | `$ssl_cipher`              |
